<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Lecture 17 - Unit Tests and Defensive Programming &mdash; ME 400 Course Notes Fall 2018 documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'Fall 2018',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="ME 400 Course Notes Fall 2018 documentation" href="../index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style>
<div class="section" id="Lecture-17---Unit-Tests-and-Defensive-Programming">
<h1>Lecture 17 - Unit Tests and Defensive Programming<a class="headerlink" href="#Lecture-17---Unit-Tests-and-Defensive-Programming" title="Permalink to this headline">¶</a></h1>
<div class="section" id="Overview,-Objectives,-and-Key-Terms">
<h2>Overview, Objectives, and Key Terms<a class="headerlink" href="#Overview,-Objectives,-and-Key-Terms" title="Permalink to this headline">¶</a></h2>
<p>In <a class="reference external" href="ME400_Lecture_7.ipynb">Lecture 7</a>, errors were identified by
debugging. In this lesson, we look at ways to ensure bugs don&#8217;t exist in
the first place by using <em>unit tests</em> and <em>defensive programming</em>
techniques. Although the extent to which these tools should be used
depends quite a bit on the magnitude of the program being developed,
even their limited use should help you write better code.</p>
<div class="section" id="Objectives">
<h3>Objectives<a class="headerlink" href="#Objectives" title="Permalink to this headline">¶</a></h3>
<p>By the end of this lesson, you should be able to</p>
<ul class="simple">
<li>Write programs and functions that use <code class="docutils literal"><span class="pre">assert</span></code> statements to ensure
correctness of inputs and/or outputs.</li>
<li>Write unit tests for testing individual functions.</li>
</ul>
</div>
<div class="section" id="Key-Terms">
<h3>Key Terms<a class="headerlink" href="#Key-Terms" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>defensive programming</li>
<li><code class="docutils literal"><span class="pre">assert</span></code></li>
<li>test-driven development</li>
<li><code class="docutils literal"><span class="pre">unittest</span></code></li>
<li><code class="docutils literal"><span class="pre">unittest.TestCase</span></code></li>
<li><code class="docutils literal"><span class="pre">unittest.main</span></code></li>
</ul>
</div>
</div>
<div class="section" id="Be-on-the-Defensive">
<h2>Be on the Defensive<a class="headerlink" href="#Be-on-the-Defensive" title="Permalink to this headline">¶</a></h2>
<p>Functions arguments generally have an acceptable range of values (and
types).</p>
<p>Recall <code class="docutils literal"><span class="pre">mean_abs_error</span></code> from <a class="reference external" href="ME400_Lecture_16.ipynb">Lecture 16</a>
and consider its behavior given a single value:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">error_metrics</span> <span class="kn">import</span> <span class="n">mean_abs_error</span>
<span class="n">mean_abs_error</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">TypeError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-2-e3bca46ac261&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> <span class="ansi-green-fg">from</span> error_metrics <span class="ansi-green-fg">import</span> mean_abs_error
<span class="ansi-green-fg">----&gt; 2</span><span class="ansi-red-fg"> </span>mean_abs_error<span class="ansi-blue-fg">(</span><span class="ansi-cyan-fg">0.1</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">~/Research/me400_notes/source/lectures/error_metrics.py</span> in <span class="ansi-cyan-fg">mean_abs_error</span><span class="ansi-blue-fg">(e)</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span>     <span class="ansi-blue-fg">&#34;&#34;&#34;Mean, absolute error.&#34;&#34;&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span>     v <span class="ansi-blue-fg">=</span> <span class="ansi-cyan-fg">0</span>
<span class="ansi-green-fg">----&gt; 4</span><span class="ansi-red-fg">     </span><span class="ansi-green-fg">for</span> i <span class="ansi-green-fg">in</span> range<span class="ansi-blue-fg">(</span>len<span class="ansi-blue-fg">(</span>e<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span> <span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">      5</span>         v <span class="ansi-blue-fg">+=</span> abs<span class="ansi-blue-fg">(</span>e<span class="ansi-blue-fg">[</span>i<span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      6</span>     <span class="ansi-green-fg">return</span> v<span class="ansi-blue-fg">/</span>len<span class="ansi-blue-fg">(</span>e<span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">TypeError</span>: object of type &#39;float&#39; has no len()
</pre></div></div>
</div>
<p>Is this obvious? Not always!</p>
<p>A possible fix: <strong>defensive programming</strong> (or, &#8220;how to make your code
idiot proof&#8221;)</p>
<p>The <strong>basic idea</strong>: check <em>input</em> and/or <em>intermediate results</em> and/or
<em>output</em>.</p>
<p><strong>Example</strong>: write a function to map a sequence <code class="docutils literal"><span class="pre">a</span></code> of numbers onto
the range <span class="math">\((0, 1)\)</span>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">normalize</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Normalize the elements of a to the range [0 1]&quot;&quot;&quot;</span>
    <span class="n">b</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
        <span class="n">b</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="nb">max</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">b</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">normalize</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[4]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>[0.3333333333333333, 0.6666666666666666, 1.0]
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">normalize</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[5]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>[-0.3333333333333333, 0.6666666666666666, 1.0]
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">normalize_defensive</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Normalize the elements of a to the range [0 1].  Elements of a should be &gt;= 0.&quot;&quot;&quot;</span>
    <span class="n">b</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;Elements of a must be &gt;= 0!&#39;</span>
        <span class="n">b</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="nb">max</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">b</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">normalize_defensive</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[7]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>[0.3333333333333333, 0.6666666666666666, 1.0]
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">normalize_defensive</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">AssertionError</span>                            Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-9-77598fd7f16e&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>normalize_defensive<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">-</span><span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">2</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">3</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">&lt;ipython-input-6-26edd58ca715&gt;</span> in <span class="ansi-cyan-fg">normalize_defensive</span><span class="ansi-blue-fg">(a)</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span>     b <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">]</span>
<span class="ansi-green-intense-fg ansi-bold">      4</span>     <span class="ansi-green-fg">for</span> i <span class="ansi-green-fg">in</span> a<span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">----&gt; 5</span><span class="ansi-red-fg">         </span><span class="ansi-green-fg">assert</span> i <span class="ansi-blue-fg">&gt;=</span> <span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">&#39;Elements of a must be &gt;= 0!&#39;</span>
<span class="ansi-green-intense-fg ansi-bold">      6</span>         b<span class="ansi-blue-fg">.</span>append<span class="ansi-blue-fg">(</span>i<span class="ansi-blue-fg">/</span>max<span class="ansi-blue-fg">(</span>a<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      7</span>     <span class="ansi-green-fg">return</span> b

<span class="ansi-red-fg">AssertionError</span>: Elements of a must be &gt;= 0!
</pre></div></div>
</div>
<p>The shortest <code class="docutils literal"><span class="pre">assert</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="n">condition_that_must_be_true</span>
</pre></div>
</div>
<p>An <code class="docutils literal"><span class="pre">assert</span></code> with a (hopefully helpful) message:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="n">condition_that_must_be_true</span><span class="p">,</span> <span class="n">message_about_what_the_idiot_did</span>
</pre></div>
</div>
</div>
<div class="section" id="Testing,-1-2-3">
<h2>Testing, 1-2-3<a class="headerlink" href="#Testing,-1-2-3" title="Permalink to this headline">¶</a></h2>
<p>Simple sanity checks, etc. belong under <code class="docutils literal"><span class="pre">if</span> <span class="pre">__name__</span> <span class="pre">==</span> <span class="pre">&quot;__main__&quot;</span></code>.</p>
<p>What about more formal checks? Given <code class="docutils literal"><span class="pre">e</span> <span class="pre">=</span> <span class="pre">[0.1,</span> <span class="pre">-0.2,</span> <span class="pre">0.3]</span></code>, the mean,
absolute error is <code class="docutils literal"><span class="pre">0.2</span></code>, and we should satisfy</p>
<div class="math">
\[|result - expected| &lt; \tau\]</div>
<p>for some tolerance <span class="math">\(\tau\)</span>.</p>
<div class="section" id="unittest">
<h3><code class="docutils literal"><span class="pre">unittest</span></code><a class="headerlink" href="#unittest" title="Permalink to this headline">¶</a></h3>
<p>Automate tests with the <code class="docutils literal"><span class="pre">unittest</span></code> module.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>
<span class="kn">from</span> <span class="nn">error_metrics</span> <span class="kn">import</span> <span class="n">mean_abs_error</span><span class="p">,</span> <span class="n">rms_error</span><span class="p">,</span> <span class="n">max_abs_error</span>

<span class="k">class</span> <span class="nc">TestErrorMetrics</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">)</span> <span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Some useful information for the user!</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">test_mean_abs_error</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Some useful information about this test!</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">e</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">mean_abs_error</span><span class="p">(</span><span class="n">e</span><span class="p">),</span> <span class="mf">0.2</span><span class="p">,</span> <span class="n">places</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_rms_error</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">:</span>
        <span class="n">e</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">rms_error</span><span class="p">(</span><span class="n">e</span><span class="p">),</span> <span class="n">sqrt</span><span class="p">(</span><span class="mf">0.14</span><span class="p">),</span> <span class="n">places</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_max_abs_error</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="p">:</span>
        <span class="n">e</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">max_abs_error</span><span class="p">(</span><span class="n">e</span><span class="p">),</span> <span class="mf">0.3</span><span class="p">,</span> <span class="n">places</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">test</span> <span class="o">=</span> <span class="n">TestErrorMetrics</span><span class="p">()</span>
<span class="n">suite</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestLoader</span><span class="p">()</span><span class="o">.</span><span class="n">loadTestsFromModule</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
<span class="n">unittest</span><span class="o">.</span><span class="n">TextTestRunner</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">suite</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="stderr output_area docutils container">
<div class="highlight"><pre>
...
----------------------------------------------------------------------
Ran 3 tests in 0.002s

OK
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[16]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>&lt;unittest.runner.TextTestResult run=3 errors=0 failures=0&gt;
</pre></div>
</div>
</div>
</div>
<div class="section" id="But-what-the-heck-is-a-class?">
<h3>But what the heck is a <code class="docutils literal"><span class="pre">class</span></code>?<a class="headerlink" href="#But-what-the-heck-is-a-class?" title="Permalink to this headline">¶</a></h3>
<p><strong>Classes</strong> are special types that combine data (<strong>attributes</strong>) and
functions (called <strong>methods</strong>). An instance of a class is called an
<strong>object</strong>.</p>
<p>All variables in Python are <strong>objects</strong> of some <strong>class</strong>.</p>
<p>You are <strong>not responsible for understanding classes, or how to define
them, or how to use them</strong> (beyond your homework testing files).</p>
<p>See ME 701 if you want to learn more.</p>
</div>
<div class="section" id="Test-Driven-Development">
<h3>Test-Driven Development<a class="headerlink" href="#Test-Driven-Development" title="Permalink to this headline">¶</a></h3>
<p>Before implementing a function, a module, or an entire program, <strong>write
the tests</strong>.</p>
<p><strong>Exercise</strong>: Write unit tests for a module with functions that analyze
strings. Specifically, write the tests for three functions: (1)
<code class="docutils literal"><span class="pre">is_palindrome(s)</span></code> (that checks whether <code class="docutils literal"><span class="pre">s</span></code> is a
<a class="reference external" href="https://en.wikipedia.org/wiki/Palindrome">palindrome</a>), (2)
<code class="docutils literal"><span class="pre">longest_palindrome(s)</span></code> that returns the largest palindrome in <code class="docutils literal"><span class="pre">s</span></code>,
and (3) <code class="docutils literal"><span class="pre">longest_common_sequence(s1,</span> <span class="pre">s2)</span></code> that returns the longest
common substring shared by <code class="docutils literal"><span class="pre">s1</span></code> and <code class="docutils literal"><span class="pre">s2</span></code>.</p>
</div>
<div class="section" id="Objectives">
<h3>Objectives<a class="headerlink" href="#Objectives" title="Permalink to this headline">¶</a></h3>
<p>You should now be able to</p>
<ul class="simple">
<li>Write programs and functions that use <code class="docutils literal"><span class="pre">assert</span></code> statements to ensure
correctness of inputs and/or outputs.</li>
<li>Write unit tests for testing individual functions.</li>
</ul>
<p>Remember, John will handle office hours today (student defense).</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Lecture 17 - Unit Tests and Defensive Programming</a><ul>
<li><a class="reference internal" href="#Overview,-Objectives,-and-Key-Terms">Overview, Objectives, and Key Terms</a><ul>
<li><a class="reference internal" href="#Objectives">Objectives</a></li>
<li><a class="reference internal" href="#Key-Terms">Key Terms</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Be-on-the-Defensive">Be on the Defensive</a></li>
<li><a class="reference internal" href="#Testing,-1-2-3">Testing, 1-2-3</a><ul>
<li><a class="reference internal" href="#unittest"><code class="docutils literal"><span class="pre">unittest</span></code></a></li>
<li><a class="reference internal" href="#But-what-the-heck-is-a-class?">But what the heck is a <code class="docutils literal"><span class="pre">class</span></code>?</a></li>
<li><a class="reference internal" href="#Test-Driven-Development">Test-Driven Development</a></li>
<li><a class="reference internal" href="#Objectives">Objectives</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/lectures/ME400_Lecture_17_Slides.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Jeremy Roberts.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/lectures/ME400_Lecture_17_Slides.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>